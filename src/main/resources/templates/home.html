<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css CDN-->
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<!-- JQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<title>Home</title>
</head>
<body>
	
    <div id="navbar"></div>
  
	<!-- Layout da página aqui -->
	<div class="row">
		<!-- Painel de navegação à esquerda -->
		<div class="col s3">
			<div class="collection">
				<a href="#!" class="collection-item active" onclick="carregar('bemvindo')">Início</a>
				<a th:href="@{/teste}" class="collection-item " sec:authorize="hasRole('ROLE_ADMIN')">Cadastro de Clientes</a>
      		</div>
		</div>
		<!-- Conteúdo da página principal -->
		<div class="col s9" id="conteudo">
			<div class="container">
				<h2 th:inline="text" class="left-align">Bem Vindo, [[${#httpServletRequest.remoteUser}]]</h2>
				Clique aqui para ir a pagina de secretario, <a th:href="@{/restrito}">ir</a>
				<form th:action="@{/logout}" method="post">
					<input type="submit" value="Sign Out" />
				</form>
			</div>
		</div>
	</div>
	
	<script type = "text/javascript">
 		//Função para carregar páginas inteiras na div de conteúdo da home
   		 function carregar(pagina){
       		$("#conteudo").load(pagina);
   		 }
 		//Função para alterar a classe active do navbar de acordo com a navegação
   		$('.collection-item').click(function() {
   		    $(this).addClass('active').siblings().removeClass('active');
   		});
 		
 		$(document).ready(function () {
 			$("#conteudo").load('bemvindo');
		});
 		$(document).ready(function() {
 		    $('#navbar').load('navbar');
 		});
	</script>
	
</body>
</html>